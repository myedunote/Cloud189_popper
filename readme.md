# [雷利子](https://github.com/oneNorth7/Cloud189_popper)

<img src="https://gitee.com/oneNorth7/pics/raw/master/picgo/icon.jpeg" alt="天翼云盘" style="zoom: 50%;" />

## 原创声明

​    该脚本是受已失效的 [免登录下载天翼云盘分享文件](https://greasyfork.org/zh-CN/scripts/401709-免登录下载天翼云盘分享文件) 脚本的启发，突破原理是通过**自行阅读分析**官网代码获得的，虽然无法实现免登录下载，但突破下载限制也是另一种收获，毕竟我的云盘容量不是很大不支持太多的转存。

## 命名由来

	魔卡少女樱变身咒语 —— 隐藏着黑暗力量的钥匙啊,在我面前显示你真正的力量！现在以你的主人，小樱之名命令你——封印解除！（日语原台词为レリーズ，即release，取谐音雷利子，意为释放。）

## 痛点问题

<img src="https://gitee.com/oneNorth7/pics/raw/master/picgo/下载限制.jpg" alt="下载限制" style="zoom: 80%;" />

​    天翼云盘**不限下载速度**的特色让人心生向往，但网页版**不支持文件夹、多文件、大于50M的文件**下载，需要**转存**后通过**客户端**下载的限制让很多人望而却步，本人在找寻免登录下载的过程中发现了突破这一限制的方法，此脚本也应运而生。

## 功能描述

- [x] **突破50M文件大小**的下载限制
- [x] **突破多文件**的下载限制
- [x] **突破文件夹**的下载限制
- [x] 支持全选文件直接下载
- [x] 支持单选文件直接下载

## 使用说明及演示

**必须登录云盘网页版！！！**

**必须登录云盘网页版！！！**

**必须登录云盘网页版！！！**

重要的事情说三遍，注册云盘帐号只是分分钟的事情（**移动、电信、联通手机号**均可）。

脚本已在`Firefox`和`Chrome`下测试通过，暂未发现会与其他脚本冲突的情况；支持单文件分享页面、多文件分享页面或个人主页单选、多选或全选文件**直接下载**。

本人郑重声明：**本脚本不存在任何操作或盗取个人Cookie的行为，获取下载链接是调用天翼云官方方法（点击原有下载按钮），只是在调用时突破限制和改变按钮样式（方便识别）而已，欢迎大家监督**。

* 启用“雷利子”脚本后，未登录帐号会提示**请先登录**，必须登录才能突破下载限制
![请先登录](https://gitee.com/oneNorth7/pics/raw/master/picgo/请先登录.jpg)
* 单文件分享页面

  文件大小超过**50M**时，在页面加载完成片刻后，下载按钮会变成绿色的**直接下载**；转存按钮旁“烦人”的提示信息会被隐藏（无论文件大小）
  ![单文件突破大小限制](https://gitee.com/oneNorth7/pics/raw/master/picgo/单文件突破大小限制.gif)

* **多文件分享页面**

1. 文件右侧的**小下载按钮**支持**直接下载**该文件（文件夹或特定类型的文件只有*转存*按钮）；单选或多选文件后点击**直接下载**
   ![单选多选文件直接下载](https://gitee.com/oneNorth7/pics/raw/master/picgo/单选多选文件直接下载.gif)
2. 点击**全选**按钮稍待片刻后，下载按钮会变成绿色的**直接下载**，可点击此按钮进行下载
   ![全选文件直接下载](https://gitee.com/oneNorth7/pics/raw/master/picgo/全选文件直接下载.gif)
3. 目录或特定类别的文件右侧没有小下载按钮，可选中后点击上方的**直接下载**按钮
![无小下载按钮](https://gitee.com/oneNorth7/pics/raw/master/picgo/无小下载按钮.jpg)
* 个人主页

  支持单选、多选、全选文件后**直接下载**

* ![单选多选全选文件直接下载](https://gitee.com/oneNorth7/pics/raw/master/picgo/单选多选全选文件直接下载.gif)

* **直接下载**按钮适用于单选、多选、全选文件/文件夹下载的情况

* 点选文件后若**很久**都没有出现绿色的**直接下载**按钮，可以尝试点选其他文件或取消或再选中或刷新页面

* 个人主页有系统生成的目录（如同步盘、我的图片等等），选中时包含这些目录，此时**直接下载**按钮会是**禁用状态**，点击后会提示“系统生成文件夹，无法直接下载，请进入文件夹下载！”，说明不支持下载该类文件夹，可进入目录后再直接下载
  ![系统生成文件夹](https://gitee.com/oneNorth7/pics/raw/master/picgo/系统生成文件夹.gif)
  
* 目前存在的小bug（不影响下载功能）可参考下面的临时解决方案

## 使用建议

* 强烈建议**单文件下载**，官方返回的**单文件下载链接**支持IDM**多线程**和**续传**下载，速度奇快，文件名也正确；
* 打包下载返回的压缩包名固定为”【打包下载】天翼云盘.zip“，并且该链接不支持IDM多线程和续传下载，速度也降下来了
* 有大批量下载文件或文件夹需求的还是建议选择官方客户端下载；

## 临时解决方案

* 个人主页下载时，*全部文件* 下的任何文件夹或文件夹下的任意文件被**直接下载**了，重新进入该文件夹时目录导航条中的 *返回上一级* 和 *全部文件* 会消失不见，这时可以直接点击左侧的 *全部文件* 返回，之后这个bug会暂时消失，但再次**直接下载**还是会出现以上问题；这个bug只影响浏览文件，不影响文件下载。具体操作可参考以下动图：
  ![个人主页下载小bug](https://gitee.com/oneNorth7/pics/raw/master/picgo/个人主页下载小bug.gif)

## 更新历史

* V0.1.4 - 修复全选下载问题；修复浏览器兼容问题

## 关注赞赏

**关注我，不迷路**~~ 第一时间获取更新推送！！！

<img src="https://gitee.com/oneNorth7/pics/raw/master/picgo/oneNorth7.png" style="zoom: 67%;" />

**原创不易，您的支持是我坚持创作的动力**~~

<img src="https://gitee.com/oneNorth7/pics/raw/master/picgo/reward_qrcode.png" style="zoom: 33%;" />

